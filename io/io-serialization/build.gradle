/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
  id 'cz.o2.proxima.java-conventions'
  alias libs.plugins.shadow
  alias libs.plugins.protobuf
}

dependencies {
  api libraries.protobuf_java
  api libraries.protobuf_java_util
  compileOnly libraries.guava
}

description = 'cz.o2.proxima:proxima-io-serialization'

protobuf {
  protoc { artifact = libraries.protoc }
}

jar {
  enabled = false
  dependsOn(shadowJar { archiveClassifier = null })
}

shadowJar {
  relocate "com.google.common", "${coreShade}.com.google.common"
  relocate "com.google.protobuf", "${serializationShade}.com.google.protobuf"
}

configurations.create("shadowJar") {
  outgoing {
    artifact(shadowJar)
  }
}
